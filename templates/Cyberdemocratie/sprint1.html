{% extends "base.html" %}

{% block title %}Sprint 1 - PRD Cyberd√©mocratie{% endblock %}

{% block content %}
<div class="sprint1-prd">
    <!-- Hero Section -->
    <section class="hero-sprint1 glass text-center py-5">
        <div class="container">
            <h1 class="display-4 text-gradient mb-3">üîê Sprint 1 - Authentification & Acc√®s</h1>
            <p class="lead">Permettre aux employ√©s de se connecter en toute s√©curit√©</p>
            <div class="sprint-meta mt-4">
                <span class="badge badge-primary badge-lg mr-3">üìÖ 2 semaines</span>
                <span class="badge badge-success badge-lg mr-3">üéØ 4 User Stories</span>
                <span class="badge badge-info badge-lg">üìä 21 Story Points</span>
            </div>
            <nav aria-label="breadcrumb" class="mt-4">
                <ol class="breadcrumb justify-content-center bg-transparent">
                    <li class="breadcrumb-item"><a href="/cyberdemocratie">PRD Cyberd√©mocratie</a></li>
                    <li class="breadcrumb-item"><a href="/cyberdemocratie/roadmap">Roadmap</a></li>
                    <li class="breadcrumb-item active">Sprint 1</li>
                </ol>
            </nav>
        </div>
    </section>

    <!-- Objectifs & Livrables -->
    <section class="objectives-section py-5">
        <div class="container">
            <div class="row">
                <div class="col-lg-6">
                    <div class="objectives-card glass p-4 h-100">
                        <h3><i class="fas fa-bullseye text-success"></i> Objectif Principal</h3>
                        <p class="lead">D√©velopper un syst√®me d'authentification s√©curis√© permettant aux employ√©s d'acc√©der √† la plateforme avec diff√©rents niveaux de permissions.</p>
                        <ul class="objective-list">
                            <li><i class="fas fa-check text-success"></i> Connexion s√©curis√©e email/mot de passe</li>
                            <li><i class="fas fa-check text-success"></i> Gestion granulaire des r√¥les</li>
                            <li><i class="fas fa-clock text-warning"></i> Authentification 2FA (optionnelle)</li>
                            <li><i class="fas fa-check text-success"></i> Dashboard personnalis√© par r√¥le</li>
                        </ul>
                    </div>
                </div>
                <div class="col-lg-6">
                    <div class="deliverables-card glass p-4 h-100">
                        <h3><i class="fas fa-shipping-fast text-primary"></i> Livrables</h3>
                        <div class="deliverable-item mb-3">
                            <h5><i class="fas fa-globe text-info"></i> Application Web</h5>
                            <p>Interface responsive avec authentification compl√®te</p>
                            <div class="progress mb-2">
                                <div class="progress-bar bg-info" role="progressbar" style="width: 85%">85%</div>
                            </div>
                        </div>
                        <div class="deliverable-item mb-3">
                            <h5><i class="fas fa-mobile-alt text-success"></i> Application Mobile (B√™ta)</h5>
                            <p>PWA avec login fonctionnel et notifications</p>
                            <div class="progress mb-2">
                                <div class="progress-bar bg-success" role="progressbar" style="width: 60%">60%</div>
                            </div>
                        </div>
                        <div class="deliverable-item">
                            <h5><i class="fas fa-cogs text-warning"></i> API Backend</h5>
                            <p>Endpoints s√©curis√©s pour authentification et gestion utilisateurs</p>
                            <div class="progress mb-2">
                                <div class="progress-bar bg-warning" role="progressbar" style="width: 90%">90%</div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </section>

    <!-- User Stories D√©taill√©es -->
    <section class="user-stories-section py-5 bg-light">
        <div class="container">
            <h2 class="text-center mb-5"><i class="fas fa-user-friends text-primary"></i> User Stories Sprint 1</h2>
            
            <!-- US1: Connexion Email/Mot de passe -->
            <div class="user-story-card glass mb-4">
                <div class="card-header bg-primary text-white">
                    <div class="d-flex justify-content-between align-items-center">
                        <h4><i class="fas fa-sign-in-alt"></i> US1 - Connexion Email/Mot de passe</h4>
                        <div class="story-meta">
                            <span class="badge badge-light">8 Story Points</span>
                            <span class="badge badge-success">‚úì Termin√©</span>
                        </div>
                    </div>
                </div>
                <div class="card-body">
                    <div class="row">
                        <div class="col-lg-8">
                            <h5>üìù Description</h5>
                            <p><strong>En tant qu'</strong> employ√© d'une entreprise utilisant Cyberd√©mocratie,<br>
                            <strong>Je veux</strong> me connecter avec mon email professionnel et un mot de passe s√©curis√©,<br>
                            <strong>Afin de</strong> acc√©der aux propositions et votes de mon organisation.</p>
                            
                            <h5 class="mt-4">‚úÖ Crit√®res d'acceptation</h5>
                            <ul class="acceptance-criteria">
                                <li><i class="fas fa-check-circle text-success"></i> L'utilisateur peut saisir son email et mot de passe</li>
                                <li><i class="fas fa-check-circle text-success"></i> Validation en temps r√©el des champs (format email, complexit√© MDP)</li>
                                <li><i class="fas fa-check-circle text-success"></i> Message d'erreur clair en cas d'√©chec de connexion</li>
                                <li><i class="fas fa-check-circle text-success"></i> Redirection automatique vers le dashboard apr√®s connexion</li>
                                <li><i class="fas fa-check-circle text-success"></i> Option "Se souvenir de moi" avec token s√©curis√©</li>
                                <li><i class="fas fa-check-circle text-success"></i> Lien "Mot de passe oubli√©" fonctionnel</li>
                            </ul>
                        </div>
                        <div class="col-lg-4">
                            <h5>üîß T√¢ches Techniques</h5>
                            <div class="task-list">
                                <div class="task-item completed">
                                    <i class="fas fa-check-square text-success"></i>
                                    <span>API endpoint POST /auth/login</span>
                                </div>
                                <div class="task-item completed">
                                    <i class="fas fa-check-square text-success"></i>
                                    <span>Hash bcrypt pour mots de passe</span>
                                </div>
                                <div class="task-item completed">
                                    <i class="fas fa-check-square text-success"></i>
                                    <span>JWT token avec expiration</span>
                                </div>
                                <div class="task-item completed">
                                    <i class="fas fa-check-square text-success"></i>
                                    <span>Interface de connexion responsive</span>
                                </div>
                                <div class="task-item completed">
                                    <i class="fas fa-check-square text-success"></i>
                                    <span>Validation c√¥t√© client/serveur</span>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>

            <!-- US2: Gestion des r√¥les -->
            <div class="user-story-card glass mb-4">
                <div class="card-header bg-success text-white">
                    <div class="d-flex justify-content-between align-items-center">
                        <h4><i class="fas fa-users-cog"></i> US2 - Gestion des R√¥les</h4>
                        <div class="story-meta">
                            <span class="badge badge-light">5 Story Points</span>
                            <span class="badge badge-success">‚úì Termin√©</span>
                        </div>
                    </div>
                </div>
                <div class="card-body">
                    <div class="row">
                        <div class="col-lg-8">
                            <h5>üìù Description</h5>
                            <p><strong>En tant qu'</strong> administrateur syst√®me,<br>
                            <strong>Je veux</strong> d√©finir et g√©rer des r√¥les avec des permissions sp√©cifiques,<br>
                            <strong>Afin de</strong> contr√¥ler l'acc√®s aux fonctionnalit√©s selon la hi√©rarchie organisationnelle.</p>
                            
                            <h5 class="mt-4">üé≠ R√¥les D√©finis</h5>
                            <div class="role-cards">
                                <div class="role-card border-primary mb-2 p-3">
                                    <h6><i class="fas fa-user text-primary"></i> Employ√©</h6>
                                    <small>Peut voir et voter sur les propositions qui le concernent</small>
                                </div>
                                <div class="role-card border-warning mb-2 p-3">
                                    <h6><i class="fas fa-user-tie text-warning"></i> Gestionnaire</h6>
                                    <small>Peut cr√©er des propositions et mod√©rer les d√©bats de son √©quipe</small>
                                </div>
                                <div class="role-card border-danger mb-2 p-3">
                                    <h6><i class="fas fa-crown text-danger"></i> Direction</h6>
                                    <small>Acc√®s complet : analytics, configuration, validation finale</small>
                                </div>
                            </div>
                        </div>
                        <div class="col-lg-4">
                            <h5>üîß Impl√©mentation</h5>
                            <div class="task-list">
                                <div class="task-item completed">
                                    <i class="fas fa-check-square text-success"></i>
                                    <span>Table roles & permissions</span>
                                </div>
                                <div class="task-item completed">
                                    <i class="fas fa-check-square text-success"></i>
                                    <span>Middleware d'autorisation</span>
                                </div>
                                <div class="task-item completed">
                                    <i class="fas fa-check-square text-success"></i>
                                    <span>Interface admin r√¥les</span>
                                </div>
                                <div class="task-item completed">
                                    <i class="fas fa-check-square text-success"></i>
                                    <span>Tests permissions API</span>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>

            <!-- US3: Authentification 2FA -->
            <div class="user-story-card glass mb-4">
                <div class="card-header bg-warning text-dark">
                    <div class="d-flex justify-content-between align-items-center">
                        <h4><i class="fas fa-shield-alt"></i> US3 - Authentification 2FA (Optionnelle)</h4>
                        <div class="story-meta">
                            <span class="badge badge-dark">3 Story Points</span>
                            <span class="badge badge-warning">‚è≥ En cours</span>
                        </div>
                    </div>
                </div>
                <div class="card-body">
                    <div class="row">
                        <div class="col-lg-8">
                            <h5>üìù Description</h5>
                            <p><strong>En tant qu'</strong> utilisateur soucieux de la s√©curit√©,<br>
                            <strong>Je veux</strong> activer l'authentification √† deux facteurs,<br>
                            <strong>Afin de</strong> prot√©ger mon compte contre les acc√®s non autoris√©s.</p>
                            
                            <h5 class="mt-4">üîê M√©thodes 2FA</h5>
                            <div class="twofa-methods">
                                <div class="method-card border-info mb-2 p-3">
                                    <h6><i class="fas fa-envelope text-info"></i> Email</h6>
                                    <small>Code √† 6 chiffres envoy√© par email (impl√©mentation prioritaire)</small>
                                    <span class="badge badge-success ml-2">‚úì Termin√©</span>
                                </div>
                                <div class="method-card border-secondary mb-2 p-3">
                                    <h6><i class="fas fa-mobile-alt text-secondary"></i> SMS</h6>
                                    <small>Code envoy√© par SMS (phase 2 - optionnelle)</small>
                                    <span class="badge badge-secondary ml-2">Backlog</span>
                                </div>
                                <div class="method-card border-dark mb-2 p-3">
                                    <h6><i class="fas fa-qrcode text-dark"></i> Authenticator App</h6>
                                    <small>Google Authenticator, Authy (phase 3)</small>
                                    <span class="badge badge-secondary ml-2">Backlog</span>
                                </div>
                            </div>
                        </div>
                        <div class="col-lg-4">
                            <h5>üîß T√¢ches</h5>
                            <div class="task-list">
                                <div class="task-item completed">
                                    <i class="fas fa-check-square text-success"></i>
                                    <span>Service d'envoi d'emails</span>
                                </div>
                                <div class="task-item completed">
                                    <i class="fas fa-check-square text-success"></i>
                                    <span>G√©n√©ration codes OTP</span>
                                </div>
                                <div class="task-item in-progress">
                                    <i class="fas fa-square text-warning"></i>
                                    <span>Interface activation 2FA</span>
                                </div>
                                <div class="task-item pending">
                                    <i class="far fa-square text-muted"></i>
                                    <span>Tests E2E connexion 2FA</span>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>

            <!-- US4: Dashboard personnalis√© -->
            <div class="user-story-card glass mb-4">
                <div class="card-header bg-info text-white">
                    <div class="d-flex justify-content-between align-items-center">
                        <h4><i class="fas fa-tachometer-alt"></i> US4 - Dashboard Personnalis√©</h4>
                        <div class="story-meta">
                            <span class="badge badge-light">5 Story Points</span>
                            <span class="badge badge-info">üîÑ En cours</span>
                        </div>
                    </div>
                </div>
                <div class="card-body">
                    <div class="row">
                        <div class="col-lg-8">
                            <h5>üìù Description</h5>
                            <p><strong>En tant qu'</strong> utilisateur connect√©,<br>
                            <strong>Je veux</strong> voir un dashboard adapt√© √† mon r√¥le et mes responsabilit√©s,<br>
                            <strong>Afin de</strong> acc√©der rapidement aux informations et actions pertinentes.</p>
                            
                            <h5 class="mt-4">üìä Composants par R√¥le</h5>
                            <div class="dashboard-preview">
                                <div class="row">
                                    <div class="col-md-4">
                                        <div class="dashboard-card border-primary p-3 mb-2">
                                            <h6 class="text-primary">üë§ Employ√©</h6>
                                            <ul class="small">
                                                <li>Propositions √† voter</li>
                                                <li>Mes participations r√©centes</li>
                                                <li>Notifications</li>
                                            </ul>
                                        </div>
                                    </div>
                                    <div class="col-md-4">
                                        <div class="dashboard-card border-warning p-3 mb-2">
                                            <h6 class="text-warning">üëî Gestionnaire</h6>
                                            <ul class="small">
                                                <li>Cr√©er nouvelle proposition</li>
                                                <li>Mod√©rer d√©bats √©quipe</li>
                                                <li>Statistiques participation</li>
                                            </ul>
                                        </div>
                                    </div>
                                    <div class="col-md-4">
                                        <div class="dashboard-card border-danger p-3 mb-2">
                                            <h6 class="text-danger">üëë Direction</h6>
                                            <ul class="small">
                                                <li>Analytics globales</li>
                                                <li>Configuration organisation</li>
                                                <li>Validation propositions</li>
                                            </ul>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                        <div class="col-lg-4">
                            <h5>üîß D√©veloppement</h5>
                            <div class="task-list">
                                <div class="task-item completed">
                                    <i class="fas fa-check-square text-success"></i>
                                    <span>Wireframes dashboards</span>
                                </div>
                                <div class="task-item completed">
                                    <i class="fas fa-check-square text-success"></i>
                                    <span>Composants r√©utilisables</span>
                                </div>
                                <div class="task-item in-progress">
                                    <i class="fas fa-square text-warning"></i>
                                    <span>Dashboard employ√©</span>
                                </div>
                                <div class="task-item in-progress">
                                    <i class="fas fa-square text-warning"></i>
                                    <span>Dashboard gestionnaire</span>
                                </div>
                                <div class="task-item pending">
                                    <i class="far fa-square text-muted"></i>
                                    <span>Dashboard direction</span>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </section>

    <!-- Planning D√©taill√© -->
    <section class="planning-section py-5">
        <div class="container">
            <h2 class="text-center mb-5"><i class="fas fa-calendar-check text-success"></i> Planning Sprint 1</h2>
            
            <div class="row">
                <!-- Semaine 1 -->
                <div class="col-lg-6">
                    <div class="week-planning glass p-4 mb-4">
                        <div class="week-header bg-primary text-white p-3 mb-3">
                            <h4><i class="fas fa-calendar-week"></i> Semaine 1</h4>
                            <small>15 - 21 Mars 2025</small>
                        </div>
                        
                        <div class="daily-tasks">
                            <div class="day-task mb-3">
                                <h6><strong>Lundi 15/03</strong> - Sprint Planning</h6>
                                <ul class="task-details">
                                    <li>Refinement User Stories</li>
                                    <li>Architecture technique d√©taill√©e</li>
                                    <li>Setup environnement d√©veloppement</li>
                                </ul>
                            </div>
                            
                            <div class="day-task mb-3">
                                <h6><strong>Mardi-Mercredi 16-17/03</strong> - Backend Auth</h6>
                                <ul class="task-details">
                                    <li>Mod√®les utilisateurs et r√¥les</li>
                                    <li>API endpoints authentification</li>
                                    <li>Hachage passwords + JWT</li>
                                </ul>
                            </div>
                            
                            <div class="day-task mb-3">
                                <h6><strong>Jeudi-Vendredi 18-19/03</strong> - Tests & Frontend</h6>
                                <ul class="task-details">
                                    <li>Tests unitaires API</li>
                                    <li>Interface de connexion</li>
                                    <li>Validation formulaires</li>
                                </ul>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- Semaine 2 -->
                <div class="col-lg-6">
                    <div class="week-planning glass p-4 mb-4">
                        <div class="week-header bg-success text-white p-3 mb-3">
                            <h4><i class="fas fa-calendar-week"></i> Semaine 2</h4>
                            <small>22 - 28 Mars 2025</small>
                        </div>
                        
                        <div class="daily-tasks">
                            <div class="day-task mb-3">
                                <h6><strong>Lundi 22/03</strong> - 2FA Email</h6>
                                <ul class="task-details">
                                    <li>Service envoi emails</li>
                                    <li>G√©n√©ration codes OTP</li>
                                    <li>Interface activation 2FA</li>
                                </ul>
                            </div>
                            
                            <div class="day-task mb-3">
                                <h6><strong>Mardi-Mercredi 23-24/03</strong> - Dashboards</h6>
                                <ul class="task-details">
                                    <li>Dashboard employ√© basique</li>
                                    <li>Dashboard gestionnaire</li>
                                    <li>Composants r√©utilisables</li>
                                </ul>
                            </div>
                            
                            <div class="day-task mb-3">
                                <h6><strong>Jeudi-Vendredi 25-26/03</strong> - Mobile PWA</h6>
                                <ul class="task-details">
                                    <li>Configuration PWA</li>
                                    <li>Interface mobile responsive</li>
                                    <li>Tests cross-platform</li>
                                </ul>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </section>

    <!-- Tests & Validation -->
    <section class="testing-section py-5 bg-light">
        <div class="container">
            <h2 class="text-center mb-5"><i class="fas fa-vial text-info"></i> Tests & Validation</h2>
            
            <div class="row">
                <div class="col-lg-4">
                    <div class="test-category glass p-4 h-100">
                        <h4><i class="fas fa-microscope text-primary"></i> Tests Unitaires</h4>
                        <div class="test-coverage mb-3">
                            <div class="d-flex justify-content-between">
                                <span>Coverage</span>
                                <strong>87%</strong>
                            </div>
                            <div class="progress">
                                <div class="progress-bar bg-primary" style="width: 87%"></div>
                            </div>
                        </div>
                        <ul class="test-list">
                            <li><i class="fas fa-check text-success"></i> API endpoints auth</li>
                            <li><i class="fas fa-check text-success"></i> Validation passwords</li>
                            <li><i class="fas fa-check text-success"></i> JWT token generation</li>
                            <li><i class="fas fa-check text-success"></i> Permissions r√¥les</li>
                            <li><i class="fas fa-clock text-warning"></i> 2FA code validation</li>
                        </ul>
                    </div>
                </div>

                <div class="col-lg-4">
                    <div class="test-category glass p-4 h-100">
                        <h4><i class="fas fa-puzzle-piece text-success"></i> Tests Int√©gration</h4>
                        <div class="test-coverage mb-3">
                            <div class="d-flex justify-content-between">
                                <span>Scenarios</span>
                                <strong>12/15</strong>
                            </div>
                            <div class="progress">
                                <div class="progress-bar bg-success" style="width: 80%"></div>
                            </div>
                        </div>
                        <ul class="test-list">
                            <li><i class="fas fa-check text-success"></i> Workflow complet connexion</li>
                            <li><i class="fas fa-check text-success"></i> Redirection selon r√¥le</li>
                            <li><i class="fas fa-check text-success"></i> Session management</li>
                            <li><i class="fas fa-clock text-warning"></i> 2FA avec email</li>
                            <li><i class="fas fa-clock text-warning"></i> R√©initialisation MDP</li>
                        </ul>
                    </div>
                </div>

                <div class="col-lg-4">
                    <div class="test-category glass p-4 h-100">
                        <h4><i class="fas fa-robot text-warning"></i> Tests E2E</h4>
                        <div class="test-coverage mb-3">
                            <div class="d-flex justify-content-between">
                                <span>Scenarios</span>
                                <strong>8/12</strong>
                            </div>
                            <div class="progress">
                                <div class="progress-bar bg-warning" style="width: 67%"></div>
                            </div>
                        </div>
                        <ul class="test-list">
                            <li><i class="fas fa-check text-success"></i> Parcours utilisateur employ√©</li>
                            <li><i class="fas fa-check text-success"></i> Parcours gestionnaire</li>
                            <li><i class="fas fa-clock text-warning"></i> Parcours direction</li>
                            <li><i class="fas fa-clock text-warning"></i> Tests mobile PWA</li>
                            <li><i class="far fa-square text-muted"></i> Tests s√©curit√©</li>
                        </ul>
                    </div>
                </div>
            </div>
        </div>
    </section>

    <!-- Architecture Technique -->
    <section class="architecture-section py-5">
        <div class="container">
            <h2 class="text-center mb-5"><i class="fas fa-sitemap text-danger"></i> Architecture Sprint 1</h2>
            
            <div class="row">
                <div class="col-lg-8">
                    <div class="architecture-diagram glass p-4">
                        <h4>üèóÔ∏è Stack Technique</h4>
                        <div class="tech-stack">
                            <div class="stack-layer mb-3">
                                <h6 class="text-primary">Frontend</h6>
                                <div class="tech-badges">
                                    <span class="badge badge-primary mr-2">Vue.js 3</span>
                                    <span class="badge badge-primary mr-2">Bootstrap 4</span>
                                    <span class="badge badge-primary mr-2">PWA</span>
                                    <span class="badge badge-primary">Axios</span>
                                </div>
                            </div>
                            <div class="stack-layer mb-3">
                                <h6 class="text-success">Backend</h6>
                                <div class="tech-badges">
                                    <span class="badge badge-success mr-2">Flask 2.3</span>
                                    <span class="badge badge-success mr-2">SQLAlchemy</span>
                                    <span class="badge badge-success mr-2">JWT</span>
                                    <span class="badge badge-success">bcrypt</span>
                                </div>
                            </div>
                            <div class="stack-layer mb-3">
                                <h6 class="text-info">Base de donn√©es</h6>
                                <div class="tech-badges">
                                    <span class="badge badge-info mr-2">MySQL 8.0</span>
                                    <span class="badge badge-info mr-2">Redis Cache</span>
                                    <span class="badge badge-info">Migrations</span>
                                </div>
                            </div>
                            <div class="stack-layer">
                                <h6 class="text-warning">Infrastructure</h6>
                                <div class="tech-badges">
                                    <span class="badge badge-warning mr-2">Docker</span>
                                    <span class="badge badge-warning mr-2">Nginx</span>
                                    <span class="badge badge-warning">SSL/TLS</span>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>

                <div class="col-lg-4">
                    <div class="security-measures glass p-4">
                        <h4><i class="fas fa-shield-alt text-danger"></i> S√©curit√©</h4>
                        <ul class="security-list">
                            <li><i class="fas fa-lock text-success"></i> Hachage bcrypt (rounds=12)</li>
                            <li><i class="fas fa-key text-success"></i> JWT avec expiration courte</li>
                            <li><i class="fas fa-user-shield text-success"></i> RBAC (Role-Based Access)</li>
                            <li><i class="fas fa-envelope text-warning"></i> 2FA par email</li>
                            <li><i class="fas fa-history text-info"></i> Logs audit connexions</li>
                            <li><i class="fas fa-ban text-danger"></i> Rate limiting API</li>
                        </ul>
                        
                        <h5 class="mt-4">üìè Standards</h5>
                        <ul class="standards-list">
                            <li><span class="badge badge-success">OWASP</span> Top 10</li>
                            <li><span class="badge badge-info">RGPD</span> Compliance</li>
                            <li><span class="badge badge-warning">ISO 27001</span> Ready</li>
                        </ul>
                    </div>
                </div>
            </div>
        </div>
    </section>

    <!-- M√©triques & Monitoring -->
    <section class="metrics-section py-5 bg-light">
        <div class="container">
            <h2 class="text-center mb-5"><i class="fas fa-chart-line text-primary"></i> M√©triques Sprint 1</h2>
            
            <div class="row">
                <div class="col-lg-3">
                    <div class="metric-card glass p-4 text-center">
                        <div class="metric-icon">
                            <i class="fas fa-users fa-3x text-primary"></i>
                        </div>
                        <h3 class="metric-value" data-target="127">0</h3>
                        <p class="metric-label">Utilisateurs Enregistr√©s</p>
                        <small class="text-success">‚Üë +15% depuis lancement</small>
                    </div>
                </div>
                
                <div class="col-lg-3">
                    <div class="metric-card glass p-4 text-center">
                        <div class="metric-icon">
                            <i class="fas fa-sign-in-alt fa-3x text-success"></i>
                        </div>
                        <h3 class="metric-value" data-target="94">0</h3>
                        <p class="metric-label">Taux Connexion R√©ussie (%)</p>
                        <small class="text-success">üéØ Objectif: >90%</small>
                    </div>
                </div>
                
                <div class="col-lg-3">
                    <div class="metric-card glass p-4 text-center">
                        <div class="metric-icon">
                            <i class="fas fa-mobile-alt fa-3x text-info"></i>
                        </div>
                        <h3 class="metric-value" data-target="67">0</h3>
                        <p class="metric-label">Adoption Mobile (%)</p>
                        <small class="text-info">üì± PWA en cours</small>
                    </div>
                </div>
                
                <div class="col-lg-3">
                    <div class="metric-card glass p-4 text-center">
                        <div class="metric-icon">
                            <i class="fas fa-shield-alt fa-3x text-warning"></i>
                        </div>
                        <h3 class="metric-value" data-target="23">0</h3>
                        <p class="metric-label">Utilisateurs 2FA (%)</p>
                        <small class="text-warning">üîê Optionnel pour l'instant</small>
                    </div>
                </div>
            </div>

            <!-- Graphiques de suivi -->
            <div class="row mt-5">
                <div class="col-lg-6">
                    <div class="chart-container glass p-4">
                        <h5><i class="fas fa-chart-area text-primary"></i> Connexions Quotidiennes</h5>
                        <canvas id="dailyLoginsChart" height="200"></canvas>
                    </div>
                </div>
                <div class="col-lg-6">
                    <div class="chart-container glass p-4">
                        <h5><i class="fas fa-pie-chart text-success"></i> R√©partition par R√¥le</h5>
                        <canvas id="rolesDistributionChart" height="200"></canvas>
                    </div>
                </div>
            </div>
        </div>
    </section>

    <!-- Retrospective Sprint -->
    <section class="retrospective-section py-5">
        <div class="container">
            <h2 class="text-center mb-5"><i class="fas fa-history text-info"></i> R√©trospective Sprint 1</h2>
            
            <div class="row">
                <div class="col-lg-4">
                    <div class="retro-card glass p-4 h-100">
                        <h4 class="text-success"><i class="fas fa-thumbs-up"></i> Ce qui a bien fonctionn√©</h4>
                        <ul class="retro-list">
                            <li>Collaboration √©quipe excellente</li>
                            <li>Architecture technique solide</li>
                            <li>Tests automatis√©s d√®s le d√©but</li>
                            <li>Feedback client positif sur l'UX</li>
                            <li>Livraison dans les temps</li>
                        </ul>
                    </div>
                </div>

                <div class="col-lg-4">
                    <div class="retro-card glass p-4 h-100">
                        <h4 class="text-warning"><i class="fas fa-exclamation-triangle"></i> Points d'am√©lioration</h4>
                        <ul class="retro-list">
                            <li>Configuration environnement plus longue que pr√©vu</li>
                            <li>Tests mobile √† am√©liorer</li>
                            <li>Documentation API √† compl√©ter</li>
                            <li>Performance mobile √† optimiser</li>
                            <li>Monitoring production manquant</li>
                        </ul>
                    </div>
                </div>

                <div class="col-lg-4">
                    <div class="retro-card glass p-4 h-100">
                        <h4 class="text-primary"><i class="fas fa-lightbulb"></i> Actions Sprint 2</h4>
                        <ul class="retro-list">
                            <li>Setup monitoring avec alertes</li>
                            <li>Am√©liorer tests cross-browser</li>
                            <li>Documentation API compl√®te</li>
                            <li>Optimisation performance mobile</li>
                            <li>Plan de d√©ploiement automatis√©</li>
                        </ul>
                    </div>
                </div>
            </div>
        </div>
    </section>

    <!-- Prochaines √©tapes -->
    <section class="next-steps-section py-5 bg-primary text-white">
        <div class="container text-center">
            <h2><i class="fas fa-rocket"></i> Prochaines √âtapes - Sprint 2</h2>
            <p class="lead mb-4">D√©veloppement des fonctionnalit√©s de propositions et d√©bats</p>
            
            <div class="row">
                <div class="col-lg-3">
                    <div class="next-step-card p-3">
                        <i class="fas fa-lightbulb fa-2x mb-2"></i>
                        <h5>Cr√©er Propositions</h5>
                        <p>Interface intuitive pour soumettre des id√©es</p>
                    </div>
                </div>
                <div class="col-lg-3">
                    <div class="next-step-card p-3">
                        <i class="fas fa-comments fa-2x mb-2"></i>
                        <h5>Syst√®me D√©bats</h5>
                        <p>Commentaires structur√©s et mod√©ration</p>
                    </div>
                </div>
                <div class="col-lg-3">
                    <div class="next-step-card p-3">
                        <i class="fas fa-check-circle fa-2x mb-2"></i>
                        <h5>Workflow Validation</h5>
                        <p>Processus d'approbation hi√©rarchique</p>
                    </div>
                </div>
                <div class="col-lg-3">
                    <div class="next-step-card p-3">
                        <i class="fas fa-bell fa-2x mb-2"></i>
                        <h5>Notifications</h5>
                        <p>Alertes temps r√©el et r√©sum√©s</p>
                    </div>
                </div>
            </div>
            
            <div class="mt-4">
                <a href="/cyberdemocratie/roadmap" class="btn btn-light btn-lg">
                    <i class="fas fa-map-marked-alt"></i> Voir Roadmap Compl√®te
                </a>
            </div>
        </div>
    </section>
</div>

<style>
.sprint1-prd {
    font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
}

.text-gradient {
    background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
    -webkit-background-clip: text;
    -webkit-text-fill-color: transparent;
    background-clip: text;
}

.glass {
    backdrop-filter: blur(10px);
    background: rgba(255, 255, 255, 0.25);
    border-radius: 20px;
    border: 1px solid rgba(255, 255, 255, 0.18);
    box-shadow: 0 8px 32px 0 rgba(31, 38, 135, 0.37);
}

.badge-lg {
    font-size: 1rem;
    padding: 0.5rem 1rem;
}

.user-story-card {
    transition: transform 0.3s ease;
}

.user-story-card:hover {
    transform: translateY(-5px);
}

.acceptance-criteria li {
    margin-bottom: 0.5rem;
}

.task-item {
    padding: 0.5rem 0;
    border-bottom: 1px solid rgba(0,0,0,0.1);
}

.task-item.completed {
    opacity: 0.8;
}

.task-item.in-progress {
    background: rgba(255, 193, 7, 0.1);
    padding: 0.5rem;
    border-radius: 5px;
}

.task-item.pending {
    opacity: 0.6;
}

.role-card, .dashboard-card, .method-card {
    border-radius: 10px;
    transition: all 0.3s ease;
}

.role-card:hover, .dashboard-card:hover, .method-card:hover {
    transform: translateY(-2px);
    box-shadow: 0 4px 15px rgba(0,0,0,0.1);
}

.week-planning {
    border-left: 4px solid #007bff;
}

.week-planning:nth-child(2) {
    border-left-color: #28a745;
}

.metric-card {
    transition: transform 0.3s ease;
}

.metric-card:hover {
    transform: scale(1.05);
}

.metric-value {
    font-size: 2.5rem;
    font-weight: bold;
    margin: 1rem 0;
}

.retro-card {
    border-top: 4px solid;
}

.retro-card:nth-child(1) {
    border-top-color: #28a745;
}

.retro-card:nth-child(2) {
    border-top-color: #ffc107;
}

.retro-card:nth-child(3) {
    border-top-color: #007bff;
}

.next-step-card {
    background: rgba(255, 255, 255, 0.1);
    border-radius: 15px;
    margin: 0.5rem;
    transition: all 0.3s ease;
}

.next-step-card:hover {
    background: rgba(255, 255, 255, 0.2);
    transform: translateY(-5px);
}

.bg-purple {
    background-color: #6f42c1 !important;
}

.badge-purple {
    background-color: #6f42c1;
    color: white;
}

.tech-badges .badge {
    margin-bottom: 0.5rem;
}

.stack-layer {
    padding: 1rem;
    background: rgba(0,0,0,0.05);
    border-radius: 10px;
    margin-bottom: 1rem;
}

@keyframes countUp {
    from {
        opacity: 0;
        transform: translateY(20px);
    }
    to {
        opacity: 1;
        transform: translateY(0);
    }
}

.metric-value {
    animation: countUp 1s ease-out;
}
</style>

<script>
document.addEventListener('DOMContentLoaded', function() {
    // Animation des compteurs
    function animateCounters() {
        const counters = document.querySelectorAll('.metric-value');
        
        counters.forEach(counter => {
            const target = parseInt(counter.getAttribute('data-target'));
            const increment = target / 100;
            let current = 0;
            
            const timer = setInterval(() => {
                current += increment;
                if (current >= target) {
                    current = target;
                    clearInterval(timer);
                }
                counter.textContent = Math.floor(current);
            }, 20);
        });
    }

    // Observer pour d√©clencher l'animation quand visible
    const observer = new IntersectionObserver((entries) => {
        entries.forEach(entry => {
            if (entry.isIntersecting) {
                animateCounters();
                observer.unobserve(entry.target);
            }
        });
    });

    const metricsSection = document.querySelector('.metrics-section');
    if (metricsSection) {
        observer.observe(metricsSection);
    }

    // Charts avec Chart.js si disponible
    if (typeof Chart !== 'undefined') {
        // Graphique connexions quotidiennes
        const dailyLoginsCtx = document.getElementById('dailyLoginsChart');
        if (dailyLoginsCtx) {
            new Chart(dailyLoginsCtx, {
                type: 'line',
                data: {
                    labels: ['Lun', 'Mar', 'Mer', 'Jeu', 'Ven', 'Sam', 'Dim'],
                    datasets: [{
                        label: 'Connexions',
                        data: [45, 52, 48, 61, 55, 32, 28],
                        borderColor: '#007bff',
                        backgroundColor: 'rgba(0, 123, 255, 0.1)',
                        borderWidth: 3,
                        fill: true,
                        tension: 0.4
                    }]
                },
                options: {
                    responsive: true,
                    maintainAspectRatio: false,
                    plugins: {
                        legend: {
                            display: false
                        }
                    },
                    scales: {
                        y: {
                            beginAtZero: true,
                            grid: {
                                color: 'rgba(0,0,0,0.1)'
                            }
                        },
                        x: {
                            grid: {
                                display: false
                            }
                        }
                    }
                }
            });
        }

        // Graphique r√©partition par r√¥le
        const rolesDistributionCtx = document.getElementById('rolesDistributionChart');
        if (rolesDistributionCtx) {
            new Chart(rolesDistributionCtx, {
                type: 'doughnut',
                data: {
                    labels: ['Employ√©s', 'Gestionnaires', 'Direction'],
                    datasets: [{
                        data: [78, 16, 6],
                        backgroundColor: [
                            '#007bff',
                            '#ffc107',
                            '#dc3545'
                        ],
                        borderWidth: 0
                    }]
                },
                options: {
                    responsive: true,
                    maintainAspectRatio: false,
                    plugins: {
                        legend: {
                            position: 'bottom',
                            labels: {
                                padding: 20,
                                usePointStyle: true
                            }
                        }
                    }
                }
            });
        }
    }

    // Smooth scroll pour les ancres
    document.querySelectorAll('a[href^="#"]').forEach(anchor => {
        anchor.addEventListener('click', function (e) {
            e.preventDefault();
            const target = document.querySelector(this.getAttribute('href'));
            if (target) {
                target.scrollIntoView({
                    behavior: 'smooth',
                    block: 'start'
                });
            }
        });
    });
});
</script>
{% endblock %}
